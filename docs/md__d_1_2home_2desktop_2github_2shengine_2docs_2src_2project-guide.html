<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>shengine: Generate projects</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<!--DOXYGEN AWESOME CSS-->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeTabs.init()
</script>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">shengine<span id="projectnumber">&#160;pre-release</span>
   </div>
   <div id="projectbrief">shengine by mrsinho</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__d_1_2home_2desktop_2github_2shengine_2docs_2src_2project-guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Generate projects</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md8">Additional args</a></li>
<li class="level1"><a href="#autotoc_md9">Compiling</a></li>
<li class="level1"><a href="#autotoc_md11">Prerequisites for running the script</a></li>
<li class="level1"><a href="#autotoc_md12">Loading source files</a></li>
<li class="level1"><a href="#autotoc_md13">External libraries</a></li>
<li class="level1"><a href="#autotoc_md14">Smd files</a></li>
<li class="level1"><a href="#autotoc_md15">Assets</a></li>
<li class="level1"><a href="#autotoc_md17">Template application</a></li>
<li class="level1"><a href="#autotoc_md19">Switch between applications in runtime</a></li>
<li class="level1"><a href="#autotoc_md21">Reloading application</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="autotoc_md6"></a></p>
<p>Be sure to have installed <code>Python 3.9</code> or later in order to run the python script without errors. The script generates a CMake file relative to your application and a bash/shell command running CMake. For example, in case you need to generate a Makefiles or a Visual Studio solution for the application located at <code>application/triangle</code>, do:</p>
<div class="fragment"><div class="line">python3.9 export-application.py name=triangle target=EXECUTABLE path=applications/triangle</div>
</div><!-- fragment --><p>You can build your application as a single <code>EXECUTABLE</code>, which is going to be linked with the engine libraries and embedded with the <code><a class="el" href="sh_editor_8c.html">shEditor.c</a></code> source file. If you build your application as a <code>SHARED</code> library, an executable target named <code>sheditor</code> will be built. It must be located in the same directory of your shared target, which is going to be linked at runtime.</p>
<p><img src="../media/clifford.png" alt="" class="inline"/></p>
<hr  />
<h1><a class="anchor" id="autotoc_md8"></a>
Additional args</h1>
<p>The additional argument <code>"generator"</code> allows you to specify which build system to select, by choosing between the CMake generators:</p>
<div class="fragment"><div class="line">cmake --help</div>
</div><!-- fragment --><div class="fragment"><div class="line">Generators</div>
<div class="line"> </div>
<div class="line">The following generators are available on this platform (* marks default):</div>
<div class="line">* Visual Studio 17 2022        = Generates Visual Studio 2022 project files.</div>
<div class="line">                                 Use -A option to specify architecture.</div>
<div class="line">  Visual Studio 16 2019        = Generates Visual Studio 2019 project files.</div>
<div class="line">                                 Use -A option to specify architecture.</div>
<div class="line">  Visual Studio 15 2017 [arch] = Generates Visual Studio 2017 project files.</div>
<div class="line">                                 Optional [arch] can be &quot;Win64&quot; or &quot;ARM&quot;.</div>
<div class="line">  Visual Studio 14 2015 [arch] = Generates Visual Studio 2015 project files.</div>
<div class="line">                                 Optional [arch] can be &quot;Win64&quot; or &quot;ARM&quot;.</div>
<div class="line">  Visual Studio 12 2013 [arch] = Generates Visual Studio 2013 project files.</div>
<div class="line">                                 Optional [arch] can be &quot;Win64&quot; or &quot;ARM&quot;.</div>
<div class="line">  Visual Studio 11 2012 [arch] = Deprecated.  Generates Visual Studio 2012</div>
<div class="line">                                 project files.  Optional [arch] can be</div>
<div class="line">                                 &quot;Win64&quot; or &quot;ARM&quot;.</div>
<div class="line">  Visual Studio 9 2008 [arch]  = Generates Visual Studio 2008 project files.</div>
<div class="line">                                 Optional [arch] can be &quot;Win64&quot; or &quot;IA64&quot;.</div>
<div class="line">  Borland Makefiles            = Generates Borland makefiles.</div>
<div class="line">  NMake Makefiles              = Generates NMake makefiles.</div>
<div class="line">  NMake Makefiles JOM          = Generates JOM makefiles.</div>
<div class="line">  MSYS Makefiles               = Generates MSYS makefiles.</div>
<div class="line">  MinGW Makefiles              = Generates a make file for use with</div>
<div class="line">                                 mingw32-make.</div>
<div class="line">  Green Hills MULTI            = Generates Green Hills MULTI files</div>
<div class="line">                                 (experimental, work-in-progress).</div>
<div class="line">  Unix Makefiles               = Generates standard UNIX makefiles.</div>
<div class="line">  Ninja                        = Generates build.ninja files.</div>
<div class="line">  Ninja Multi-Config           = Generates build-&lt;Config&gt;.ninja files.</div>
<div class="line">  Watcom WMake                 = Generates Watcom WMake makefiles.</div>
<div class="line">  CodeBlocks - MinGW Makefiles = Generates CodeBlocks project files.</div>
<div class="line">  CodeBlocks - NMake Makefiles = Generates CodeBlocks project files.</div>
<div class="line">  CodeBlocks - NMake Makefiles JOM</div>
<div class="line">                               = Generates CodeBlocks project files.</div>
<div class="line">  CodeBlocks - Ninja           = Generates CodeBlocks project files.</div>
<div class="line">  CodeBlocks - Unix Makefiles  = Generates CodeBlocks project files.</div>
<div class="line">  CodeLite - MinGW Makefiles   = Generates CodeLite project files.</div>
<div class="line">  CodeLite - NMake Makefiles   = Generates CodeLite project files.</div>
<div class="line">  CodeLite - Ninja             = Generates CodeLite project files.</div>
<div class="line">  CodeLite - Unix Makefiles    = Generates CodeLite project files.</div>
<div class="line">  Eclipse CDT4 - NMake Makefiles</div>
<div class="line">                               = Generates Eclipse CDT 4.0 project files.</div>
<div class="line">  Eclipse CDT4 - MinGW Makefiles</div>
<div class="line">                               = Generates Eclipse CDT 4.0 project files.</div>
<div class="line">  Eclipse CDT4 - Ninja         = Generates Eclipse CDT 4.0 project files.</div>
<div class="line">  Eclipse CDT4 - Unix Makefiles= Generates Eclipse CDT 4.0 project files.</div>
<div class="line">  Kate - MinGW Makefiles       = Generates Kate project files.</div>
<div class="line">  Kate - NMake Makefiles       = Generates Kate project files.</div>
<div class="line">  Kate - Ninja                 = Generates Kate project files.</div>
<div class="line">  Kate - Unix Makefiles        = Generates Kate project files.</div>
<div class="line">  Sublime Text 2 - MinGW Makefiles</div>
<div class="line">                               = Generates Sublime Text 2 project files.</div>
<div class="line">  Sublime Text 2 - NMake Makefiles</div>
<div class="line">                               = Generates Sublime Text 2 project files.</div>
<div class="line">  Sublime Text 2 - Ninja       = Generates Sublime Text 2 project files.</div>
<div class="line">  Sublime Text 2 - Unix Makefiles</div>
<div class="line">                               = Generates Sublime Text 2 project files.</div>
</div><!-- fragment --><p>Be careful when choosing the generator to replace the space character with a dash:</p>
<div class="fragment"><div class="line">python export-application.py name=triangle target=EXECUTABLE path=applications/triangle generator=Visual-Studio-17-2022</div>
</div><!-- fragment --><p>If you are running the command for a second time and you need to clear che <code>CMakeCache.txt</code> file, use the optional argument <code>CLEAN-CACHE</code>:</p>
<div class="fragment"><div class="line">python export-application.py name=triangle target=EXECUTABLE path=applications/triangle generator=MinGW-Makefiles CLEAN-CACHE</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Compiling</h1>
<p>Go to the build directory and run <code>cmake --build .</code> or the command you prefer for your generator of choice.</p>
<p>All build files are located at <code>application-path/os/build</code>, while libraries and executables are all located at <code>application-path/os/bin</code>.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md11"></a>
Prerequisites for running the script</h1>
<div class="fragment"><div class="line">cd applications/triangle</div>
<div class="line">tree triangle /f</div>
</div><!-- fragment --><div class="fragment"><div class="line">D:.</div>
<div class="line">│   ini.smd</div>
<div class="line">│   libs.txt</div>
<div class="line">│   source-files.txt</div>
<div class="line">│</div>
<div class="line">├───shaders</div>
<div class="line">│   ├───bin</div>
<div class="line">│   │       mesh.frag.spv</div>
<div class="line">│   │       mesh.vert.spv</div>
<div class="line">│   │</div>
<div class="line">│   └───src</div>
<div class="line">│           mesh.frag</div>
<div class="line">│           mesh.vert</div>
<div class="line">│</div>
<div class="line">├───smd</div>
<div class="line">│       application.smd</div>
<div class="line">│       host-memory.smd</div>
<div class="line">│       scene.smd</div>
<div class="line">│       serial.smd</div>
<div class="line">│       vulkan-memory.smd</div>
<div class="line">│</div>
<div class="line">└───src</div>
<div class="line">        triangle.c</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12"></a>
Loading source files</h1>
<p>The paths of your application source files are defined at <code>source-files.txt</code>. The formatting is very easy: use the endline character to load a new source file.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
External libraries</h1>
<p>The <code>libs.txt</code> file allows you to add an external CMake file to your application's CMake file and link all the specified libraries. Even if you have no external libraries to link, you must have this file on your application's root directory.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Smd files</h1>
<p>If you want to know more about the <code>smd</code> file format you can check the repository at <a href="https://github.com/mrsinho/smd"><code>mrsinho/smd</code></a>.</p>
<ul>
<li><code>ini.smd</code> must be on the same directory of your executable file and it cannot be empty, it allows the engine to reach the application shared library, application.smd, host-memory.smd, scene.smd, serial.smd, vulkan-memory.smd;</li>
<li><code>application.smd</code> is required to call the application functions when your project has been built as a <code>SHARED</code> library;</li>
<li><code>host-memory.smd</code> is useful to automatically allocate some heap memory on your RAM before running the <code>p_start</code> function of your application (this file can be empty since it's not necessary);</li>
<li><code>vulkan-memory.smd</code> is useful to automatically allocate some vulkan memory before running the <code>p_start</code> function of your application (this file can be empty since it's not necessary);</li>
<li><code>scene.smd</code> allows you to load components from <code>collection/shcomponents/include</code> (this file can be empty since it loads optional features);</li>
<li><code>serial.smd</code> is useful to load a serial port properties before actually opening a serial port, which is a developer's responsibility by implementing (for example) the cross-platform <a href="https://github.com/mrsinho/shserial"><code>shserial</code></a> library.</li>
</ul>
<p>You can create your own smd filse and setup your own implementation for the file format. The <a href="https://github.com/mrsinho/smd">smd</a> library is already linked to the application.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Assets</h1>
<p>Since this application renders a triangle on a window using a standard pipeline (for some reason the example is named <code>triangle</code>), shaders and assets have to be stored somewhere. You're free to put them anywhere you want, what matters is to load them correctly from your application scripts see "Native scripting" on the <code>Related pages</code>.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md17"></a>
Template application</h1>
<p>The <code>triangle</code> application is a very good example which could be copied and pasted in order to setup a new project. You can also check the template-documented source code ./_native-scripting.md_ at the <code>Related pages</code>.</p>
<p>Another good and documented example is the <code>noise</code> application.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md19"></a>
Switch between applications in runtime</h1>
<p>If your application has been built as a <code>SHARED</code> library instead of an <code>EXECUTABLE</code>, you can change the application name at <code>ini.smd</code> in order to release the old shared library and load the newly specified application. For example, change:</p>
<div class="fragment"><div class="line">STR1024    ^^ 1    ShEngine::ini_properties.application_name        --&gt; noise                                 *</div>
<div class="line">STR1024    ^^ 1    ShEngine::ini_properties.application_smd_path    --&gt; ../../../noise/smd/application.smd    *</div>
<div class="line">STR1024    ^^ 1    ShEngine::ini_properties.scene_smd_path          --&gt; ../../../noise/smd/scene.smd          *</div>
<div class="line">STR1024    ^^ 1    ShEngine::ini_properties.pipelines_smd_path      --&gt; ../../../noise/smd/pipelines.smd      *</div>
</div><!-- fragment --><p>to this:</p>
<div class="fragment"><div class="line">STR1024    ^^ 1    ShEngine::ini_properties.application_name        --&gt; triangle                                 *</div>
<div class="line">STR1024    ^^ 1    ShEngine::ini_properties.application_smd_path    --&gt; ../../../triangle/smd/application.smd    *</div>
<div class="line">STR1024    ^^ 1    ShEngine::ini_properties.scene_smd_path          --&gt; ../../../triangle/smd/scene.smd          *</div>
<div class="line">STR1024    ^^ 1    ShEngine::ini_properties.pipelines_smd_path      --&gt; ../../../triangle/smd/pipelines.smd      *</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md21"></a>
Reloading application</h1>
<p>If one of your application's functions returned with an error (non <code>1</code> value) or if you missed some information on your <code>.smd</code> files, the engine will move to a safe mode. To free al resources and reload the engine press <code>LEFT_ALT</code> + <code>R</code> to restart the program. You can restart the application at any time by pressing the same key sequence. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
